!function(a,b,c){"use strict";L.ToolbarIcon=L.Class.extend({statics:{baseClass:"leaflet-toolbar-icon"},options:{html:"",className:"",hideOnClick:!1,tooltip:""},initialize:function(a){L.setOptions(this,a)},onAdd:function(a,b,c,d){var e,f;e=L.DomUtil.create("li","",c),f=L.DomUtil.create("a","",e),f.innerHTML=this.options.html,f.setAttribute("href","#"),f.setAttribute("title",this.options.tooltip),L.DomUtil.addClass(f,this.constructor.baseClass),this.options.className&&L.DomUtil.addClass(f,this.options.className),L.DomEvent.on(f,"click",b.enable,b),b._addSubToolbar(a,e,d)}}),L.toolbarIcon=function(a){return new L.ToolbarIcon(a)},L.Toolbar=L.Class.extend({statics:{baseClass:"leaflet-toolbar"},includes:L.Mixin.Events,options:{className:"",filter:function(){return!0}},initialize:function(a,b){L.setOptions(this,b),this._actions=a||[]},addTo:function(a){return this._arguments=[].slice.call(arguments),a.addLayer(this),this},onAdd:function(){},appendToContainer:function(a){var b,d,e,f,g=this.constructor.baseClass+"-"+this._calculateDepth(),h=g+" "+this.options.className;for(this._container=a,this._ul=L.DomUtil.create("ul",h,a),f=this._actions.length,e=0;f>e;e++)d=this._actions[e].apply(c,this._arguments),d.toolbar=this,b=d.options.toolbarIcon,b.onAdd(this,d,this._ul,this._arguments)},hide:function(){this._ul.style.display="none"},show:function(){this._ul.style.display="block"},_calculateDepth:function(){for(var a=0,b=this.parentToolbar;b;)a+=1,b=b.parentToolbar;return a}}),L.ToolbarHandler=L.Handler.extend({options:{toolbarIcon:new L.ToolbarIcon,subToolbar:new L.Toolbar},initialize:function(a,b){L.setOptions(this,b),L.Handler.prototype.initialize.call(this,a)},enable:function(){var a=this.options.subToolbar;L.Handler.prototype.enable.call(this),a._actions.length>0&&a.show()},disable:function(){var a=this.options.subToolbar;L.Handler.prototype.disable.call(this),a._actions.length>0&&a.hide()},addHooks:function(){},removeHooks:function(){},_addSubToolbar:function(a,b,c){var d=this.options.subToolbar;d.parentToolbar=a,d._actions.length>0&&(c=[].slice.call(c),c.push(this),d.addTo.apply(d,c),d.appendToContainer(b))}}),L.Toolbar.Control=L.Toolbar.extend({statics:{baseClass:"leaflet-control-toolbar "+L.Toolbar.baseClass},initialize:function(a,b){L.Toolbar.prototype.initialize.call(this,a,b),this._control=new L.Control.Toolbar(this.options)},onAdd:function(a){this._control.addTo(a),this.appendToContainer(this._control.getContainer())},onRemove:function(a){a.removeLayer(this._control)}}),L.Control.Toolbar=L.Control.extend({onAdd:function(){return L.DomUtil.create("div","")}}),L.Toolbar.Popup=L.Toolbar.extend({statics:{baseClass:"leaflet-popup-toolbar "+L.Toolbar.baseClass},initialize:function(a,b,c){L.Toolbar.prototype.initialize.call(this,b,c);var d=L.extend(this.options,{icon:new L.DivIcon({html:"",className:this.options.className})});this._marker=new L.Marker(a,d)},onAdd:function(a){this._map=a,this._marker.addTo(a),this.appendToContainer(this._marker._icon),L.DomEvent.on(this._ul,"click",L.DomEvent.stopPropagation),this._setStyles()},onRemove:function(a){a.removeLayer(this._marker),delete this._map},setLatLng:function(a){return this._marker.setLatLng(a),this},_setStyles:function(){for(var a,b,d,e=this._container,f=this._ul,g=f.querySelectorAll(".leaflet-toolbar-icon"),h=[],i=0,j=0,k=g.length;k>j;j++)g[j].parentNode.parentNode===f&&(h.push(parseInt(L.DomUtil.getStyle(g[j],"height"),10)),i+=Math.ceil(parseFloat(L.DomUtil.getStyle(g[j],"width"))));f.style.width=i+"px",this._tipContainer=L.DomUtil.create("div","leaflet-toolbar-tip-container",e),this._tipContainer.style.width=i+"px",this._tip=L.DomUtil.create("div","leaflet-toolbar-tip",this._tipContainer),a=Math.max.apply(c,h),b=parseInt(L.DomUtil.getStyle(this._tip,"width"),10),d=new L.Point(i/2,a+.7071*b),e.style.marginLeft=-d.x+"px",e.style.marginTop=-d.y+"px"}})}(window,document);